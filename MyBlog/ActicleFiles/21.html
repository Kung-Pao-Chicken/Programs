<p><span style="color:#ff0000"><strong>0x01 &nbsp; &nbsp; &nbsp;无参数，无返回值的异步方法：</strong></span></p><p name="code" class="prettyprint"><code class="hljs r has-numbering">static void Main(){</code></p><p name="code" class="prettyprint"><code class="hljs r has-numbering"> &nbsp;&nbsp; new Thread(DoSomething).Start();</code></p><p name="code" class="prettyprint"><code class="hljs r has-numbering">}</code></p><p name="code" class="prettyprint"><code class="hljs r has-numbering">public void DoSomething(){<span class="hljs-keyword">...</span>}</code></p><p><span style="color:#FF0000"><strong>0x02 &nbsp; &nbsp; &nbsp;有参数，无返回值的异步方法：</strong></span></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment">//使用Threading</span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment"></span><span class="hljs-comment">//在这里要异步执行的函数的参数arg只能是Object类型，而且参数只能有一个。</span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment"></span><span class="hljs-comment">//如果想用这种方法传多个参数，可以将参数添加到List&lt;Object&gt;，转换为Object传入函数中。</span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment"></span><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> Main(){</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"> &nbsp;&nbsp; <span class="hljs-keyword">var</span> asy = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> ParameterizedThreadStart(DoSomething1));</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">&nbsp;&nbsp;&nbsp; asy.Start(arg); <br/></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">}<span class="hljs-comment">//使用匿名委托方法</span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment"></span><span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">delegate</span>(){</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">&nbsp;&nbsp;&nbsp; DoSomething2(<span class="hljs-string">&quot;arg1&quot;</span>, <span class="hljs-string">&quot;arg2&quot;</span>, <span class="hljs-string">&quot;arg3&quot;</span>);</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">}).Start();</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment">//Lambada也是很好用的</span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment"></span><span class="hljs-keyword">new</span> Thread(() =&gt;{</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">&nbsp;&nbsp;&nbsp; DoSomething2(<span class="hljs-string">&quot;arg1&quot;</span>,<span class="hljs-string">&quot;arg2&quot;</span>,<span class="hljs-string">&quot;arg3&quot;</span>);</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">}).Start();</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment">//使用Task.Run</span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment"></span>Task.Run(() =&gt;{</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">&nbsp;&nbsp;&nbsp; DoSomething2(<span class="hljs-string">&quot;arg1&quot;</span>, <span class="hljs-string">&quot;arg2&quot;</span>, <span class="hljs-string">&quot;arg3&quot;</span>);</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">});<span class="hljs-keyword"><br/></span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoSomething1</span>(<span class="hljs-keyword">object</span> arg){...}<span class="hljs-keyword"><br/></span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoSomething2</span>(<span class="hljs-keyword">string</span> arg1,<span class="hljs-keyword">string</span> arg2,<span class="hljs-keyword">string</span> arg3){...}</code></p><p><span style="color:#FF0000"><strong>0x03 &nbsp; &nbsp; &nbsp;有返回值，有参数的异步方法</strong></span></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-regexp">//</span>如果需要返回值，那么Thread就无能为力啦，但是Task作为Thread的升级，必然解决了这个问题~ <br/></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering">static <span class="hljs-reserved">void</span> Main()</code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering">&nbsp;&nbsp; {</code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"> &nbsp; &nbsp; &nbsp;&nbsp; <span class="hljs-reserved">var</span> result=Task.Run&lt;string&gt;<span class="hljs-function"><span class="hljs-params">(() =&gt;</span></span></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-function"><span class="hljs-params">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {</span></span></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-function"><span class="hljs-params"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="hljs-keyword">return</span> DoSomething2(<span class="hljs-string">&quot;arg1&quot;</span>, <span class="hljs-string">&quot;arg2&quot;</span>, <span class="hljs-string">&quot;arg3&quot;</span>);</span></span></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-function"><span class="hljs-params">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; })</span>;</span></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-function"> &nbsp; &nbsp; &nbsp;&nbsp; <span class="hljs-title">Console</span>.<span class="hljs-title">WriteLine</span><span class="hljs-params">(result.Result)</span>;</span></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-function"> &nbsp; &nbsp; &nbsp;&nbsp; <span class="hljs-title">Console</span>.<span class="hljs-title">WriteLine</span><span class="hljs-params">(<span class="hljs-string">&quot;必须等上面一句执行完我才能显示...&quot;</span>)</span>;</span></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-function"> &nbsp; &nbsp; &nbsp;&nbsp; <span class="hljs-title">Console</span>.<span class="hljs-title">Read</span><span class="hljs-params">()</span>;</span></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-function">&nbsp;&nbsp;&nbsp; }<span class="hljs-title">public</span> <span class="hljs-title">static</span> <span class="hljs-title">string</span> <span class="hljs-title">DoSomething2</span><span class="hljs-params">(string arg1,string arg2,string arg3)</span>{</span></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-function"> &nbsp;&nbsp; <span class="hljs-title">Thread</span>.<span class="hljs-title">Sleep</span><span class="hljs-params">(<span class="hljs-number">1000</span>)</span>;</span></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-function"> &nbsp;&nbsp; <span class="hljs-title">return</span> &quot;<span class="hljs-title">Demo</span> <span class="hljs-title">By</span> <span class="hljs-title">DoubleVoid</span>!&quot;;</span></code></p><p name="code" class="prettyprint"><code class="hljs coffeescript has-numbering"><span class="hljs-function">}</span></code></p><p>下面才是重头！</p><p><span style="color:#FF0000"><strong>0x04 &nbsp; &nbsp; &nbsp;大名鼎鼎的async/await</strong></span></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> Main(<span class="hljs-keyword">string</span>[] args){</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">&nbsp;&nbsp;&nbsp; Test(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-comment">//异步执行</span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment"></span> &nbsp;&nbsp; Console.WriteLine(<span class="hljs-string">&quot;我会最先显示出来的！&quot;</span>); <br/></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">}<span class="hljs-keyword"><br/></span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> Test(){</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"> &nbsp;&nbsp; <span class="hljs-keyword">var</span> str = <span class="hljs-keyword">await</span> GetString(); &nbsp; &nbsp; &nbsp; <span class="hljs-comment">//使用await会一直等待GetString()执行结束才会执行下一句</span></code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"><span class="hljs-comment"></span> &nbsp;&nbsp; Console.WriteLine(<span class="hljs-string">&quot;GetString: {0}&quot;</span>, str);</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">}<span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-keyword">string</span>&gt; GetString(){</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"> &nbsp;&nbsp; <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> Task.Run(() =&gt;{</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; Thread.Sleep(<span class="hljs-number">1000</span>);</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering"> &nbsp; &nbsp; &nbsp;&nbsp; <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Demo By DoubleVoid!&quot;</span>;</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">&nbsp;&nbsp;&nbsp; });</code></p><p name="code" class="prettyprint"><code class="hljs cs has-numbering">}<span class="hljs-comment">//await只能在被async声明的函数中使用</span></code></p>